/**
 * theme.css - Unified dark/light mode theme system with nebula palette
 * Supports narrative bar, explorer bar, and all UI components
 */

:root {
  /* === PRIMARY / ZEN COLORS === */
  --primary: #40c4ff;
  --primary-hover: #64d8ff;
  --primary-rgb: 64, 196, 255;
  --zen-deep-navy: #010a1f;
  --zen-dark-blue: #001c52;
  --zen-blue: #0d426f;
  --zen-cyan: #40c4ff;
  --zen-light-cyan: #e1f8ff;
  --zen-gradient: linear-gradient(140deg, #010a1f 0%, #001c52 55%, #0d426f 100%);
  --zen-gradient-soft: linear-gradient(140deg, rgba(1, 10, 31, 0.9) 0%, rgba(0, 28, 82, 0.85) 55%, rgba(13, 66, 111, 0.8) 100%);
  --zen-glow: 0 10px 30px rgba(64, 196, 255, 0.35);
  --zen-focus: 0 0 0 3px rgba(64, 196, 255, 0.45);

  /* === LIGHT MODE (DEFAULT) === */
  --bg-primary: #f7fbfd;
  --bg-secondary: #eef5f9;
  --bg-tertiary: #e0ecf3;
  --text-primary: #0d1f2d;
  --text-secondary: #2a5a7f;
  --text-muted: #5a8aac;
  --border-color: rgba(64, 196, 255, 0.15);
  --border-strong: rgba(64, 196, 255, 0.28);
  --shadow-light: rgba(1, 10, 31, 0.08);
  --shadow-medium: rgba(1, 10, 31, 0.2);

  /* === NARRATIVE/EXPLORER BAR SPECIFIC === */
  --hero-overlay-bg: linear-gradient(140deg, rgba(1, 10, 31, 0.85) 0%, rgba(0, 28, 82, 0.82) 50%, rgba(13, 66, 111, 0.88) 100%);
  --hero-text-color: #e1f8ff;
  --hero-meta-color: rgba(100, 216, 255, 0.92);
  --hero-label-color: rgba(64, 196, 255, 0.9);
  --progress-bar-bg: rgba(64, 196, 255, 0.15);
  --progress-bar-fill: linear-gradient(90deg, #40c4ff 0%, #64d8ff 50%, #00a8cc 100%);
  --progress-dot-inactive: rgba(64, 196, 255, 0.35);
  --progress-dot-active: rgba(225, 248, 255, 0.92);

  /* === SIDEBAR/RIGHT PANEL === */
  --sidebar-bg: var(--bg-primary);
  --panel-top-background: rgba(255, 255, 255, 0.72);
  --panel-clear-background: rgba(255, 255, 255, 0.86);
  --panel-clear-background-hover: rgba(255, 255, 255, 0.95);
  --panel-clear-border: var(--border-color);
  --detail-close-background: rgba(255, 255, 255, 0.1);
  --detail-close-color: var(--text-primary);
  --detail-close-background-hover: rgba(255, 255, 255, 0.25);
  --detail-back-background: rgba(255, 255, 255, 0.2);
  --detail-back-background-hover: rgba(255, 255, 255, 0.35);
  --detail-image-placeholder-bg: rgba(64, 196, 255, 0.12);
  --detail-meta-background: rgba(64, 196, 255, 0.08);
  --badge-theme-bg: rgba(64, 196, 255, 0.12);
  --badge-theme-text: var(--text-primary);
  --badge-theme-border: rgba(64, 196, 255, 0.35);
  --badge-theme-bg-hover: rgba(64, 196, 255, 0.22);

  /* === TOOLBAR/GLOBE === */
  --toolbar-background: rgba(247, 251, 253, 0.92);
  --toolbar-border: rgba(64, 196, 255, 0.2);
  --toolbar-text: var(--text-primary);
  --toolbar-text-muted: rgba(42, 90, 127, 0.75);

  /* === TRANSITIONS === */
  --transition-fast: 150ms ease;
  --transition-smooth: 320ms ease;
  --transition-focus: 200ms ease;
  --sidebar-transition: 300ms ease;

  /* === SHADOWS === */
  --shadow-card: 0 16px 38px rgba(1, 10, 31, 0.12);
  --layout-sidebar-width: 360px;

  /* === GLOBE INTRO OVERLAY === */
  --intro-overlay-gradient: linear-gradient(140deg, rgba(1, 10, 31, 0.85) 0%, rgba(0, 28, 82, 0.82) 50%, rgba(13, 66, 111, 0.88) 100%);
  --intro-text-color: #e1f8ff;
  --intro-muted-color: rgba(100, 216, 255, 0.92);
  --intro-button-background: linear-gradient(120deg, #40c4ff 0%, #64d8ff 40%, #00a8cc 100%);
  --intro-button-text: #ffffff;
  --intro-button-shadow: 0 12px 28px rgba(64, 196, 255, 0.35);
  --intro-button-shadow-strong: 0 18px 44px rgba(64, 196, 255, 0.45);
  --intro-skip-background: rgba(225, 248, 255, 0.12);
  --intro-skip-border: rgba(64, 196, 255, 0.32);

  --primary-focus: rgba(64, 196, 255, 0.45);

  /* === NARRATIVE OVERLAY === */
  --narrative-overlay-gradient: linear-gradient(140deg, rgba(1, 10, 31, 0.82) 0%, rgba(0, 28, 82, 0.76) 48%, rgba(13, 66, 111, 0.85) 100%);

  /* === BORDERS === */
  --border-soft: rgba(64, 196, 255, 0.18);
}

/* === DARK MODE === */
@media (prefers-color-scheme: dark) {
  :root {
    /* Dark mode backgrounds */
    --bg-primary: #0a1628;
    --bg-secondary: #0f1f33;
    --bg-tertiary: #142a42;
    --text-primary: #e1f8ff;
    --text-secondary: #a0d4f7;
    --text-muted: #6db3d9;
    --border-color: rgba(64, 196, 255, 0.16);
    --border-strong: rgba(64, 196, 255, 0.28);
    --shadow-light: rgba(0, 0, 0, 0.3);
    --shadow-medium: rgba(0, 0, 0, 0.5);

    /* Dark mode narrative/explorer bar */
    --hero-overlay-bg: linear-gradient(140deg, rgba(1, 10, 31, 0.92) 0%, rgba(0, 28, 82, 0.88) 50%, rgba(13, 66, 111, 0.92) 100%);
    --hero-text-color: #e1f8ff;
    --hero-meta-color: rgba(100, 216, 255, 0.92);
    --hero-label-color: rgba(64, 196, 255, 0.9);
    --progress-bar-bg: rgba(64, 196, 255, 0.16);
    --progress-bar-fill: linear-gradient(90deg, #40c4ff 0%, #64d8ff 50%, #00a8cc 100%);
    --progress-dot-inactive: rgba(64, 196, 255, 0.35);
    --progress-dot-active: rgba(225, 248, 255, 0.95);

    /* Dark mode sidebar */
    --sidebar-bg: rgba(10, 18, 30, 0.96);
    --panel-top-background: rgba(13, 23, 38, 0.85);
    --panel-clear-background: rgba(15, 26, 42, 0.9);
    --panel-clear-background-hover: rgba(20, 35, 55, 0.92);
    --panel-clear-border: var(--border-color);
    --detail-close-background: rgba(255, 255, 255, 0.06);
    --detail-close-color: var(--text-primary);
    --detail-close-background-hover: rgba(255, 255, 255, 0.12);
    --detail-back-background: rgba(64, 196, 255, 0.12);
    --detail-back-background-hover: rgba(64, 196, 255, 0.22);
    --detail-image-placeholder-bg: rgba(64, 196, 255, 0.15);
    --detail-meta-background: rgba(64, 196, 255, 0.18);
    --badge-theme-bg: rgba(64, 196, 255, 0.15);
    --badge-theme-text: #e1f8ff;
    --badge-theme-border: rgba(64, 196, 255, 0.38);
    --badge-theme-bg-hover: rgba(64, 196, 255, 0.28);

    /* Dark mode toolbar */
    --toolbar-background: rgba(10, 18, 30, 0.88);
    --toolbar-border: rgba(64, 196, 255, 0.25);
    --toolbar-text: #e1f8ff;
    --toolbar-text-muted: rgba(100, 216, 255, 0.85);

    /* Dark mode intro overlay */
    --intro-overlay-gradient: linear-gradient(135deg, rgba(1, 10, 31, 0.92) 0%, rgba(0, 28, 82, 0.9) 48%, rgba(13, 66, 111, 0.94) 100%);
    --intro-button-shadow: 0 16px 36px rgba(64, 196, 255, 0.35);
    --intro-button-shadow-strong: 0 22px 48px rgba(64, 196, 255, 0.45);
    --intro-skip-background: rgba(255, 255, 255, 0.12);
    --intro-skip-border: rgba(255, 255, 255, 0.22);

    /* Dark mode narrative overlay */
    --narrative-overlay-gradient: linear-gradient(135deg, rgba(1, 10, 31, 0.88) 0%, rgba(0, 28, 82, 0.8) 48%, rgba(13, 66, 111, 0.9) 100%);
  }
}
